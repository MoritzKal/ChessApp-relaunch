{"openapi":"3.0.1","info":{"title":"ChessApp API","description":"Endpoints for ingest/train/serve/play","version":"v1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/v1/ingest":{"post":{"tags":["ingest"],"summary":"Start ingest job","operationId":"start","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestRequest"}}}},"responses":{"202":{"description":"Job accepted","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/v1/datasets":{"get":{"tags":["dataset-controller"],"operationId":"list","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":50}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DatasetResponse"}}}}}}},"post":{"tags":["dataset-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetCreateRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}}}}},"/v1/ingest/{runId}":{"get":{"tags":["ingest"],"summary":"Get ingest status","operationId":"status","parameters":[{"name":"runId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Status","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/v1/health":{"get":{"tags":["health-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/v1/games":{"get":{"tags":["games"],"summary":"List games for a user","operationId":"list_1","parameters":[{"name":"username","in":"query","description":"Username to fetch games for","required":true,"schema":{"type":"string"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":50}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"result","in":"query","required":false,"schema":{"type":"string","enum":["WHITE_WIN","BLACK_WIN","DRAW","ABORTED"]}},{"name":"color","in":"query","required":false,"schema":{"type":"string","enum":["WHITE","BLACK"]}},{"name":"since","in":"query","required":false,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GameSummaryDto"}}}}}}}},"/v1/games/{id}":{"get":{"tags":["games"],"summary":"Get game detail by id","operationId":"get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GameDetailDto"}}}}}}},"/v1/games/{id}/positions":{"get":{"tags":["games"],"summary":"List positions for a game","operationId":"positions","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PositionDto"}}}}}}}},"/v1/datasets/{id}":{"get":{"tags":["dataset-controller"],"operationId":"get_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}}}}}},"components":{"schemas":{"IngestRequest":{"type":"object","properties":{"username":{"type":"string"},"from":{"type":"string"},"to":{"type":"string"},"offline":{"type":"boolean"}}},"DatasetCreateRequest":{"type":"object","properties":{"name":{"type":"string"},"version":{"type":"string"},"filter":{"type":"object","additionalProperties":{"type":"object"}},"split":{"type":"object","additionalProperties":{"type":"object"}},"sizeRows":{"type":"integer","format":"int64"}}},"DatasetResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"version":{"type":"string"},"sizeRows":{"type":"integer","format":"int64"},"locationUri":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"GameSummaryDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"endTime":{"type":"string","format":"date-time"},"timeControl":{"type":"string"},"result":{"type":"string","enum":["WHITE_WIN","BLACK_WIN","DRAW","ABORTED"]},"whiteRating":{"type":"integer","format":"int32"},"blackRating":{"type":"integer","format":"int32"}}},"GameDetailDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"endTime":{"type":"string","format":"date-time"},"timeControl":{"type":"string"},"result":{"type":"string","enum":["WHITE_WIN","BLACK_WIN","DRAW","ABORTED"]},"whiteRating":{"type":"integer","format":"int32"},"blackRating":{"type":"integer","format":"int32"},"pgnRaw":{"type":"string"}}},"PositionDto":{"type":"object","properties":{"ply":{"type":"integer","format":"int32"},"fen":{"type":"string"},"sideToMove":{"type":"string","enum":["WHITE","BLACK"]}}}}}}