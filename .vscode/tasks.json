{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "infra:up",
      "type": "shell",
      "command": "docker compose -f infra/docker-compose.yml --env-file .env up -d db minio mlflow prometheus loki promtail grafana",
      "options": { "cwd": "${workspaceFolder}" }
    },
    {
      "label": "infra:down",
      "type": "shell",
      "command": "docker compose -f infra/docker-compose.yml down",
      "options": { "cwd": "${workspaceFolder}" }
    },
    {
      "label": "api:run (codex)",
      "type": "shell",
      "command": "mvn spring-boot:run -Dspring-boot.run.profiles=codex -Dspring-boot.run.main-class=com.chessapp.api.ApiApplication",
      "options": { "cwd": "${workspaceFolder}/api/api-app" }
    }
  ]
}
